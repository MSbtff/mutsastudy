# DNS와 작동원리

## DNS란?

도메인 네임 시스템(Domain Name System, DNS)은 호스트의 도메인 이름을 호스트의 네트워크 주소로 바꾸거나 그 반대의 변환을 수행할 수 있도록 하기 위해 개발되었다. 

즉 우리가 브라우저 주소창에 www.naver.com 이라 입력하지만 실제 서버는 숫자로 구성된 ip주소로 통신하고, 우리는 기억하기 쉬운 도메인 이름을 사용하는 과정에서 도메인주소를 숫자 주소인 ip로 바꾸는 시스템을 DNS라 한다.

## 구성요소

### 도메인 네임 공간(Domain Name Space) 과 리소스 레코드(Resource Recodrd)

도메인 네임 시스템에서 사용할 데이터 자료구조를 정의하는 사항에 해당한다. 도메인 네임 공간은 도메인 이름이 중복되지 않게 생성하여 사용하도록 정의된 구성 체계로 흔히 최상위에 루트 도메인으로 부터 뻗어나가는 트리 구조의 도메인 네임 체계가 이에 해당하고 도메인 네임 시스템에서 하나의 도메인 네임은 유일한 값을 갖는다.

리소스 레코드는 도메인 네임을 설정할 수 있는 데이터 타입으로 도메인 네임을 키값으로 하여 이를 데이터로 설정하는데 이때 사전에 약속된 데이터 타입과 포맷으로 적용해야하는데 이것이 리소스 레코드이다.
예를 들어 IPv4와 A타입 레코드 등이 있다.

인터넷을 일정한 공간으로 가정했을 때, 도메인이란 호스트에 대한 책임과 권한의 영역으로 물리적 실체인 **호스트** 관리하는 조직의 경계이다.

1. 거대한 분산 네이밍 시스템

2. 계층적 구조

<img src="https://t1.daumcdn.net/cfile/tistory/2316A93F51C462940C">


### 네임 서버(Name Server)

네임서버는 도메인의 데이터를 보유하고, 외부 인터넷으로부터 도메인 네임과 그에대한 데이터 질의를 수신했을 때, 보유한 데이터를 검색하여 응답하는 역할을 담당하도록 구현한 서버 프로그램으로 여기에서 도메인 존(영역) 만 설정하고 리커시브 기능을 갖지 않는 순수한 네임서버를 의미한다.

즉 도메인 이름을 IP주소로 변환하고 리졸버로부터 요청받은 도메인이름에 대한 IP주소를 다시 리졸버로 전달해주는 역할이다.



#### 존 파일(Zone file)

특정 정보나 서비스를 제공하는 호스트(서버)에 접속하기 위해서 그 영역의 정보 즉 존 파일을 가지고 있는 네임서버로 우선 접근해야 한다.
인터넷에서 최종적으로 정보를 제공하는 것은 영역(Domain)이 아닌 특정 서버이므로 개별 호스트들의 정보를 가진, 즉 존 파일을 저장하고 있는 도메인 네임서버에 우선 접근해야 한다.

<img src="http://library.gabia.com/wp-content/uploads/2016/09/%ED%98%B8%EC%8A%A4%ED%8A%B8-%EB%84%A4%EC%9E%84%EC%84%9C%EB%B2%84-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EC%A1%B4%ED%8C%8C%EC%9D%BC.png">

1. 네임서버 및 관리자 정보
2. 호스트 주소 정보
3. 이메일 호스트 정보


도메인 이름을 ip주소로 변ㄹ환

### 리졸버 (Resolver)

리졸버는 도메인 네임의 데이터 조회기능을 수행하는 SW 라이브러리 형태의 루틴으로 도메인 네임과 조회대상 레코드 타입을 받아 인터넷 상에서 해당 도메인이 설정되어 있는 서버를 자동으로 추적 탐색하여 최종 결과를 주는 기능으로 도메인 네임 시스템이 분산방식으로 산재하여 이를 조회하기 위해 리졸버가 필요하다.

현재 인터넷에서는 리졸버는 DNS 질의 응답 트래픽의 질감 및 효율성을 위해 데이터 캐싱 기능을 갖는 별도의 시스템인 리커시브 네임서버로 주로 구현하여 구성하고 있다.
<img src="https://t1.daumcdn.net/cfile/tistory/994D08335A296B1318">


## DNS 작동원리 